webpackJsonp([1],{"/1Yr":function(t,e){},"7zS6":function(t,e){},"8+jV":function(t,e){},"9ZtP":function(t,e){},"C/j5":function(t,e){},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a,n=s("7+uW");var i=function(t){this.set=function(e){return localStorage.setItem(t,e)},this.get=function(){return localStorage.getItem(t)},this.clear=function(){return localStorage.clear()}},o=new i("ls_theme"),l=new i("ls_todo"),u=new i("ls_completed"),c=new i("ls_deleted"),r=new i("ls_noteTitle"),h={ls_theme:o,ls_todo:l,ls_completed:u,ls_deleted:c,ls_avatar:new i("ls_avatar"),ls_noteTitle:r,getLocalTime:function(){var t=new Date;return t.getFullYear()+"/"+(parseInt(t.getMonth()+1)<10?"0"+parseInt(t.getMonth()+1):parseInt(t.getMonth()+1))+"/"+(t.getDate()<10?"0"+t.getDate():t.getDate())+" "+(t.getHours()<10?"0"+t.getHours():t.getHours())+":"+(t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes())+":"+(t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds())}},d={data:function(){return{readOnlyStatus:!0,inputText:h.ls_noteTitle.get("ls_noteTitle")||""}},props:["editTitleStatus"],methods:{showSideBar:function(){this.$emit("controls")},enterTitle:function(){var t=this;""!=this.inputText&&function(t,e){var s=this;clearTimeout(a),a=setTimeout(function(){t.call(s)},e)}(function(){t.saveFunc("auto")},1500)},saveFunc:function(t){this.readOnlyStatus=!0,h.ls_noteTitle.set(this.inputText),"auto"===t?this.$toasted.show("自动保存成功"):this.$toasted.show("保存成功"),clearTimeout(a)}},watch:{editTitleStatus:function(){this.readOnlyStatus=!1,this.$refs.input.select(),this.$refs.input.focus()}}},m={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("header",{staticClass:"AppHeader"},[s("h1",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.inputText,expression:"inputText"}],ref:"input",attrs:{type:"text",placeholder:"未命名",maxlength:"10",readonly:t.readOnlyStatus},domProps:{value:t.inputText},on:{input:[function(e){e.target.composing||(t.inputText=e.target.value)},function(e){t.enterTitle()}],keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.saveFunc()}}})]),t._v(" "),s("a",{staticClass:"sideBtn",on:{click:function(e){t.showSideBar()}}},[s("span")])])},staticRenderFns:[]};var v=s("VU/8")(d,m,!1,function(t){s("9ZtP")},null,null).exports,p={data:function(){return{}},mounted:function(){this.btnShowStatus=!0,this.menuEffect()},props:["btnShowStatus","themeShowStatus"],watch:{btnShowStatus:function(){this.menuEffect()},themeShowStatus:function(){this.menuEffect()}},methods:{changeTheme:function(){this.$emit("changeTheme")},menuEffect:function(){var t,e=0,s=document.querySelectorAll(".mainMenu li").length||0;this.btnShowStatus?(this.clearClass(),t=setInterval(function(){e<s?(document.querySelectorAll(".mainMenu li")[e].setAttribute("class","delayshow"),e++):(e=0,clearInterval(t))},200)):this.clearClass()},clearClass:function(){for(var t=document.querySelectorAll(".mainMenu li").length||0,e=0;e<t;e++)document.querySelectorAll(".mainMenu li")[e].removeAttribute("class")},clearLocalData:function(){h.ls_theme.clear(),this.$toasted.show("本地数据已清空"),setTimeout(function(){location.reload()},1e3)},uploadAvatar:function(){document.getElementById("inputFile").click()},fileChange:function(t){this.showPreview(t)},showPreview:function(t){var e=document.getElementById("inputFile").files[0],s=this;if(window.FileReader){if(e){var a=new FileReader;a.onloadend=function(t){if(e.size/1024/1024>1)return s.$toasted.show("上传文件不能超过1M"),!1;s.$store.dispatch("change_avatarStatus"),s.$store.dispatch("change_avatar",t.target.result),h.ls_avatar.set(t.target.result),s.$toasted.show("上传成功"),console.log(s.$store)},a.readAsDataURL(e)}}else this.$toasted.show("你的浏览器版本太低，暂不支持上传")},editTitle:function(){this.$emit("editTitle")}}},f={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"sidebar"},[s("ul",{staticClass:"mainMenu"},[s("li",[s("a",{staticClass:"menuTabbar",attrs:{href:"javascript:void(0)"},on:{click:function(e){t.editTitle()}}},[t._v("编辑标题")])]),t._v(" "),s("li",[s("a",{staticClass:"menuTabbar",attrs:{href:"javascript:void(0)"},on:{click:function(e){t.uploadAvatar()}}},[t._v("上传头像")]),t._v(" "),s("input",{attrs:{type:"file",id:"inputFile",accept:"image/*"},on:{change:function(e){t.fileChange()}}})]),t._v(" "),s("li",[s("a",{staticClass:"menuTabbar",attrs:{href:"javascript:void(0)"},on:{click:function(e){t.changeTheme()}}},[t._v("主题选择")])]),t._v(" "),s("li",[s("a",{staticClass:"menuTabbar",attrs:{href:"javascript:void(0)"},on:{click:function(e){t.clearLocalData()}}},[t._v("清空数据")])])])])},staticRenderFns:[]};var g=s("VU/8")(p,f,!1,function(t){s("7zS6")},null,null).exports,_={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"eventAdd"},[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.inputText,expression:"inputText",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"请添加事项"},domProps:{value:t.inputText},on:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.addEventList()},input:function(e){e.target.composing||(t.inputText=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}}),t._v(" "),s("a",{staticClass:"addBtn",attrs:{href:"javascript:void(0)"},on:{click:function(e){t.addEventList()}}},[t._v("添加")])])},staticRenderFns:[]};var T=s("VU/8")({data:function(){return{inputText:""}},methods:{addEventList:function(){""!==this.inputText&&(this.$emit("inputData",this.inputText),this.inputText="",this.$toasted.show("添加成功"))}}},_,!1,function(t){s("8+jV")},null,null).exports,S=s("mvHQ"),w=s.n(S),b={mounted:function(){this.data[0].sublists=JSON.parse(h.ls_todo.get())||[],this.data[1].sublists=JSON.parse(h.ls_completed.get())||[],this.data[2].sublists=JSON.parse(h.ls_deleted.get())||[],console.log(localStorage)},data:function(){return{data:[{status:"未完成",statusCode:1,showSubmenus:!0,sublists:[],btnText:"完成",listShowStatus:!0},{status:"已完成",statusCode:2,showSubmenus:!0,sublists:[],btnText:"删除",listShowStatus:!0},{status:"已删除",statusCode:3,showSubmenus:!0,sublists:[],btnText:"还原",listShowStatus:!0}]}},props:["unCompletedText"],watch:{unCompletedText:function(t){var e=this.data[0].sublists;e.push({text:t,time:h.getLocalTime()}),h.ls_todo.set(w()(e)),console.log(localStorage)}},methods:{clickEvent:function(t,e,s){1===t?(this.data[1].sublists.push(this.data[0].sublists[e]),this.data[0].sublists.splice(e,1),h.ls_todo.set(w()(this.data[0].sublists)),h.ls_completed.set(w()(this.data[1].sublists))):2===t?(this.data[2].sublists.push(this.data[1].sublists[e]),this.data[1].sublists.splice(e,1),h.ls_completed.set(w()(this.data[1].sublists)),h.ls_deleted.set(w()(this.data[2].sublists))):(this.data[1].sublists.push(this.data[2].sublists[e]),this.data[2].sublists.splice(e,1),h.ls_completed.set(w()(this.data[1].sublists)),h.ls_deleted.set(w()(this.data[2].sublists))),this.$toasted.show("已"+this.data[s].btnText),console.log(localStorage)},toggleMenu:function(t){this.data[t].listShowStatus=!this.data[t].listShowStatus}}},C={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"eventList"},[t._l(t.data,function(e,a){return[s("div",{staticClass:"selectbar",on:{click:function(e){t.toggleMenu(a)}}},[s("p",[t._v(t._s(e.status)+"("+t._s(e.sublists.length)+")")]),s("span",{class:{arrowRotate:!e.listShowStatus}})]),t._v(" "),s("ul",{class:["list",{hideList:!e.listShowStatus}]},t._l(e.sublists,function(n,i){return s("li",[s("div",[s("p",[t._v(t._s(n.text))]),t._v(" "),s("span",[t._v(t._s(n.time))])]),t._v(" "),s("a",{staticClass:"eventBtn",attrs:{href:"javascript:void(0)"},on:{click:function(s){t.clickEvent(e.statusCode,i,a)}}},[t._v(t._s(e.btnText))])])}))]})],2)},staticRenderFns:[]};var x={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"avatar"},[e("div",{staticClass:"imgWrap"},[e("img",{attrs:{src:this.avatar,alt:"头像"}})])])},staticRenderFns:[]};var $={data:function(){return{inputText:""}},components:{AppEventAdd:T,AppEventList:s("VU/8")(b,C,!1,function(t){s("qlhZ")},null,null).exports,AppAvatar:s("VU/8")({data:function(){return{clickStatus:this.$store.state.avatar.clickStatus,avatar:this.$store.state.avatar.avatar}},watch:{"$store.state.avatar.clickStatus":function(){this.avatar=this.$store.state.avatar.avatar}}},x,!1,function(t){s("gKiB")},null,null).exports},methods:{getData:function(t){this.inputText=t}}},k={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"mainContent"},[e("div",{staticClass:"inner"},[e("app-avatar",[this._v("loading")]),this._v(" "),e("app-event-add",{on:{inputData:this.getData}}),this._v(" "),e("app-event-list",{attrs:{unCompletedText:this.inputText}})],1)])},staticRenderFns:[]};var A={methods:{changeTheme:function(t){var e=this;this.$store.dispatch("change_theme",t),this.$emit("closeTheme"),setTimeout(function(){e.$toasted.show("主题设置为 "+t)},500)}}},y={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"themeContent"},[s("ul",[s("li",{staticClass:"title"},[t._v("\n      点击切换主题\n    ")]),t._v(" "),s("li",{on:{click:function(e){t.changeTheme("609dee")}}},[s("span",{staticClass:"c609dee"}),t._v(" "),s("b",[t._v("#609dee")])]),t._v(" "),s("li",{on:{click:function(e){t.changeTheme("f39894")}}},[s("span",{staticClass:"cf39894"}),t._v(" "),s("b",[t._v("#f39894")])]),t._v(" "),s("li",{on:{click:function(e){t.changeTheme("5fdb54")}}},[s("span",{staticClass:"c5fdb54"}),t._v(" "),s("b",[t._v("#5fdb54")])]),t._v(" "),s("li",{on:{click:function(e){t.changeTheme("f4b976")}}},[s("span",{staticClass:"cf4b976"}),t._v(" "),s("b",[t._v("#f4b976")])]),t._v(" "),s("li",{on:{click:function(e){t.changeTheme("202020")}}},[s("span",{staticClass:"c202020"}),t._v(" "),s("b",[t._v("#202020")])])])])},staticRenderFns:[]};var E={name:"App",components:{AppHeader:v,AppSidebar:g,AppContent:s("VU/8")($,k,!1,function(t){s("/1Yr")},null,null).exports,AppTheme:s("VU/8")(A,y,!1,function(t){s("C/j5")},null,null).exports},data:function(){return{showtabs:!0,showTheme:!1,editTitleStatus:!1}},methods:{menuStatusChange:function(){this.showtabs=!this.showtabs},getThemeBlock:function(){this.showTheme=!0},getCloseTheme:function(t){this.showTheme=!this.showTheme},changeTitle:function(t){this.editTitleStatus=!this.editTitleStatus}},computed:{getTheme:function(){return this.$store.getters.getCurrentTheme}}},F={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:["c"+t.getTheme],attrs:{id:"app"}},[s("app-header",{attrs:{editTitleStatus:t.editTitleStatus},on:{controls:function(e){t.menuStatusChange()}}},[t._v("loading...")]),t._v(" "),s("div",{staticClass:"appBody"},[s("div",{class:["leftContent",{showContent:t.showtabs}]},[s("app-sidebar",{directives:[{name:"show",rawName:"v-show",value:!t.showTheme,expression:"!showTheme"}],attrs:{btnShowStatus:t.showtabs,themeShowStatus:t.showTheme},on:{changeTheme:function(e){t.getThemeBlock()},editTitle:function(e){t.changeTitle()}}},[t._v("loading...")]),t._v(" "),s("app-theme",{directives:[{name:"show",rawName:"v-show",value:t.showTheme,expression:"showTheme"}],on:{closeTheme:function(e){t.getCloseTheme()}}},[t._v("loading...")])],1),t._v(" "),s("div",{staticClass:"rightContent"},[s("app-content",[t._v("loading...")])],1)])],1)},staticRenderFns:[]};var M=s("VU/8")(E,F,!1,function(t){s("RmSU"),s("NoEd")},null,null).exports,R=s("/ocq");n.a.use(R.a);var N=new R.a({}),B=s("IZMb"),U=s.n(B),j={position:"top-center",duration:1e3,fullWidth:!0,theme:"primary",singleton:!0,className:"mytoast"},D=s("NYxO"),L={moduleTheme:{state:{theme:h.ls_theme.get()||"609dee"},getters:{getCurrentTheme:function(t){return t.theme}},mutations:{changeTheme:function(t,e){t.theme=e.theme}},actions:{change_theme:function(t,e){var s=t.commit;h.ls_theme.set(e),s("changeTheme",{theme:e})}}}},I={moduleAvatar:{state:{clickStatus:!1,avatar:h.ls_avatar.get()||"./static/image/avatar.png"},getters:{getAvatar:function(t){return t.avatar}},mutations:{changeStatus:function(t){t.clickStatus=!t.clickStatus},changeAvatar:function(t,e){t.avatar=e}},actions:{change_avatar:function(t,e){(0,t.commit)("changeAvatar",e)},change_avatarStatus:function(t){(0,t.commit)("changeStatus")}}}};n.a.use(D.a);var V=new D.a.Store({modules:{theme:L.moduleTheme,avatar:I.moduleAvatar}});s("M4fF");n.a.config.productionTip=!1,n.a.use(U.a,j),n.a.use(D.a),new n.a({el:"#app",router:N,store:V,components:{App:M},template:"<App/>"})},NoEd:function(t,e){},RmSU:function(t,e){},gKiB:function(t,e){},qlhZ:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.f2af9af71b9b98b833dd.js.map